<div class="row" style="margin-bottom:10px; margin-top:10px;">
    <div class="col-lg-12 col-md-12 col-sm-12 text-right">
        <button class="ms-btn ms-btn--green" id="button" (click)="getAllTickets()">Refresh</button>
    </div>
</div>


<table id="ticketTable">
    <thead>
        <!-- <th *ngFor='let head of tickets | keys'>{{head}}</th> -->
        <th *ngFor="let column of headers">{{column}}</th>
    </thead>
    <tbody class="tableBody">
        <tr *ngFor="let ticket of tickets" (click)="getTicketInfo(content,ticket)">
            <!-- <td *ngFor="let list of tickets | keys">
                {{tickets[list].ticketMessage}}
            </td> -->
            <td *ngFor="let column of headers">
                {{ticket[column]}}
            </td>
        </tr>
    </tbody>
</table>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Ticket Information</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="modalForm">
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field" id="ticketId" name="ticketId">{{modalTicketId}}</div>
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field" id="ticketDate">{{modalTicketDate}}</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">CLIENT NAME</div>
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">PHONE NUMBER</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field" id="ticketName">{{modalTicketName}}</div>
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field" id="ticketPhone">{{modalTicketPhoneNumber}}</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">SUBJECT</div>
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">ACTIVE STATE</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field" id="ticketSubject">{{modalTicketSubject}}</div>
                    <div class="col-sm-6 col-lg-6 col-md-6 modal-field">
                        <select class="form-control" id="isActive" name="isActive" formControlName="isActive" required>
                            <option value="true" selected disabled>Select Ticket Status</option>
                            <option value="false">false</option>
                            <option value="true">true</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">TICKET MESSAGE</div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-12 col-md-12 modal-field">{{modalTicketMessage}}</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-lg-6 col-md-6 field-head">APPEND NEW MESSAGE HERE</div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-12 col-md-12" style="padding:0;">
                        <textarea class="ms-form__input" id="ticketMessage" type="text" name="message" placeholder="Your message" formControlName="ticketMessage" required></textarea>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="sendDelete()">Delete</button>
        <button type="button" class="btn btn-outline-dark" (click)="sendUpdate()">Update</button>
    </div>
</ng-template>